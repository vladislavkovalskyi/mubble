<img src="../../images/mubble_logo.png" alt="Mubble logo" width="50%" height="50%">

# Keyboards (Ukrainian üá∫üá¶)
–¶–µ–π –ø—Ä–∏–∫–ª–∞–¥ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –ø–æ–∫–∞–∑–∞—Ç–∏ —è–∫ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ **–∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∞–º–∏** –≤ **Mubble**

* –ö–ª–∞—Å–∏ `InlineKeyboard` —Ç–∞ `InlineButton` –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –≤–∏ –º–æ–≥–ª–∏ —Ä–æ–±–∏—Ç–∏ Inline-–∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É _(Inline - –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏, —è–∫—ñ –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω—ñ –¥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å)_
* –ö–ª–∞—Å–∏ `CallbackData` —Ç–∞ `CallbackDataMarkup` –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è —Ç–æ–≥–æ, —â–æ–± –≤–∏ –º–æ–≥–ª–∏ —Ö–µ–Ω–¥–ª–∏—Ç–∏ _(–æ–±—Ä–æ–±–ª—é–≤–∞—Ç–∏)_ `callback_data`, —è–∫–µ –≤–∏ –Ω–∞–ø–∏—Å–∞–ª–∏ —É –∫–Ω–æ–ø—Ü—ñ, —Ü–µ —â–æ—Å—å –ø–æ —Ç–∏–ø—É –ø—Ä–∞–≤–∏–ª `Text` —Ç–∞ `Markup` —É –∑–≤–∏—á–∞–π–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö.
* –î–∞–ª—ñ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –∫–ª–∞—Å `Keyboard`, –≤ —è–∫–æ–º—É –º–∏ –ø—Ä–æ—Å—Ç–æ —Å–≥—Ä—É–ø—É–≤–∞–ª–∏ –Ω–∞—à—ñ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏. –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `.add()` –º–∏ –¥–æ–¥–∞—î–º–æ –∫–Ω–æ–ø–∫—É, –∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `.row()` —Ä–æ–±–∏–º–æ —Ä—è–¥–æ–∫.
* –ú–∏ —Ä–æ–±–∏–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –∫–æ–º–∞–Ω–¥–∏ `/start`, –¥–µ –π–æ–º—É –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è —Ç–µ–∫—Å—Ç, –∞ —É –ø–∞—Ä–∞–º–µ—Ç—Ä `reply_markup` –º–∏ –≤–∫–∞–∑—É—î–º–æ –Ω–∞—à—É –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É –∑ —Ñ—Ä—É–∫—Ç–∞–º–∏.
* –£ `@bot.on.callback_query` –º–∏ –º–æ–∂–µ–º–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞—à—ñ –ø—Ä–∞–≤–∏–ª–∞ —á–µ—Ä–µ–∑ –±—ñ–Ω–∞—Ä–Ω—ñ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏ _(| - –∞–±–æ; & - —Ç–∞/—ñ; ~ - –Ω–µ...)_. –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `CallbackData` –º–∏ –º–æ–∂–µ–º–æ "—Ä–µ–∞–≥—É–≤–∞—Ç–∏" –Ω–∞ –∑–≤–∏—á–∞–π–Ω–∏–π `callback_data`, —è–∫ –Ω–∞ –∑–≤–∏—á–∞–π–Ω–∏–π —Ç–µ–∫—Å—Ç.
<br>
–ú–∏ –±–∞—á–∏–º–æ, —â–æ –∑–∞ –¥–æ–º–æ–º–æ–≥–æ—é `cq: CallbackQuery` –º–∏ –º–æ–∂–µ–º–æ –∑—Ä–æ–±–∏—Ç–∏ `.answer`, `.edit_text` —Ç–∞ `cq.ctx_api.send_message`. –©–æ –∂ —Ü–µ –æ–∑–Ω–∞—á–∞—î?
<br><br>
`cq.answer` —Ä–æ–±–∏—Ç—å alert —É Telegram, —Ç–æ–±—Ç–æ –≤–∏–ª—ñ–∑–∞—î –≤—ñ–∫–æ–Ω–µ—á–∫–æ –∑ –≤–∞—à–∏–º –Ω–∞–¥–ø–∏—Å–æ–º.
<br>
`cq.edit_text` —Ä–æ–±–∏—Ç—å —Ä–µ–¥–∞–≥—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –Ω–∞ —è–∫–æ–º—É –≤–∏ –Ω–∞—Ç–∏—Å–Ω—É–ª–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏.
<br>
`cq.ctx_api.send_message` —Ä–æ–±–∏—Ç—å –∑–≤–∏—á–∞–π–Ω—É –≤—ñ–¥–ø—Ä–∞–≤–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ API, —Ç–æ–±—Ç–æ –º–∏ –Ω–∞–ø—Ä—è–º—É –≤–∫–∞–∑—É—î–º–æ, —â–æ –º–∏ —Ö–æ—á–µ–º–æ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Å–∞–º–µ —á–µ—Ä–µ–∑ —Ü–µ–π –º–µ—Ç–æ–¥ Telegram Bot API. –í —Å–µ—Ä–µ–¥–∏–Ω—ñ `ctx_api` —î –¥—É–∂–µ –±–∞–≥–∞—Ç–æ –º–µ—Ç–æ–¥—ñ–≤, —è–∫–∏–º–∏ –≤–∏ –º–æ–∂–µ—Ç–µ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—å.
* –î–∞–ª—ñ –º–∏ –≤–∫–∞–∑–∞–ª–∏ `CallbackDataMarkup`, —Ü–µ –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –∑–≤–∏—á–∞–π–Ω–æ–º—É `Markup`, –≤ —è–∫–∏–π –≤–∏ –º–æ–∂–µ—Ç–µ –ø–∏—Å–∞—Ç–∏ —Å–≤–æ—ó "–ø–∞—Ç–µ—Ä–Ω–∏" _(—à–∞–±–ª–æ–Ω–∏)_. –ü—ñ—Å–ª—è —á–æ–≥–æ –ø–æ –Ω–∞—à–æ–º—É —à–∞–±–ª–æ–Ω—É —É –ø–∞—Ä–∞–º–µ—Ç—Ä `number` –±—É–¥–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏—Å—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —ñ –¥–∞–ª—ñ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞.
* –î–∞–ª—ñ –π–¥–µ —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ `callback_data` - `back`, —è–∫–µ –ø–æ —Ñ–∞–∫—Ç—É —Ä–æ–±–∏—Ç—å —Ç–µ —Å–∞–º–µ, —â–æ –π –∫–æ–º–∞–Ω–¥–∞ `/start`, –∞–ª–µ –≤–æ–Ω–æ —Ä–µ–¥–∞–≥—É—î –Ω–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ –ø–æ–∫–∞–∑—É—î "–ø—ñ–¥–∫–∞–∑–∫—É/–∞–ª–µ—Ä—Ç".

## –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
```python
from mubble import Token, API, Mubble, CallbackQuery, Message
from mubble.tools import InlineKeyboard, InlineButton
from mubble.rules import StartCommand, CallbackData, CallbackDataMarkup

api = API(Token.from_env())
bot = Mubble(api)


class Keyboard:
    fruits = (
        InlineKeyboard()
        .add(InlineButton("üçå Banana", callback_data="banana"))
        .add(InlineButton("üçç Pineapple", callback_data="pineapple"))
        .add(InlineButton("üçé Apple", callback_data="apple"))
        .row()
        .add(InlineButton("1Ô∏è‚É£ One", callback_data="number/1"))
        .add(InlineButton("2Ô∏è‚É£ Two", callback_data="number/2"))
    ).get_markup()

    back = (
        InlineKeyboard()
        .add(InlineButton("‚¨ÖÔ∏è Back", callback_data="back"))
        .get_markup()
    )

emojis = {"banana": "üçå", "pineapple": "üçç", "apple": "üçé"}


@bot.on.message(StartCommand())
async def start_handler(message: Message):
    await message.answer("ü•© Choose your action", reply_markup=Keyboard.fruits)


@bot.on.callback_query(
        CallbackData("banana")
        | CallbackData("pineapple")
        | CallbackData("apple")
)
async def fruits_handler(cq: CallbackQuery):
    emoji = emojis[cq.data.unwrap()]
    await cq.answer(f"You've choosen {emoji}")
    await cq.ctx_api.send_message(
        cq.message.unwrap().chat.id, f"Eat lots of {emoji}, it's healthy!"
    )
    await cq.edit_text(f"{emoji} is great choice!", reply_markup=Keyboard.back)


@bot.on.callback_query(CallbackDataMarkup("number/<number:int>"))
async def number_handler(cq: CallbackQuery, number: int):
    await cq.edit_text(f"You've choosen number {number}!", reply_markup=Keyboard.back)


@bot.on.callback_query(CallbackData("back"))
async def back_handler(cq: CallbackQuery):
    await cq.answer("You've returned to the menu.")
    await cq.edit_text("ü•© Choose your action", reply_markup=Keyboard.fruits)


bot.run_forever()

```

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
<img src="../../images/keyboards_1.jpg" alt="Mubble logo" width="50%" height="50%">
<img src="../../images/keyboards_2.jpg" alt="Mubble logo" width="50%" height="50%">
<img src="../../images/keyboards_3.jpg" alt="Mubble logo" width="50%" height="50%">
<img src="../../images/keyboards_4.jpg" alt="Mubble logo" width="50%" height="50%">
